<!DOCTYPE html>
<html>
<head>
<title>Page Title</title>
<style>
	#myCanvas{
		background: grey;
		padding: 0,0;
		
	}
	
	#scream{
		display: none;
	
	}
	
	#wall{
		display: none;
		}

</style>
</head>
<body onload=draw()>

<img id="scream" width="220" height="277"
src="weeble.png">

<img id="wall" width="220" height="277"
src="wall.png">

<canvas id="myCanvas"  width="1400" height="730" >   </canvas>  



<script>




var canvas = document.getElementById("myCanvas");
console.log(canvas);
var ctx = canvas.getContext("2d");


let map1 = [
    "###############################",
    "#.###.###.###.#.#####.#.###.#.#",
    "#.........#.#.......#...#.#...#.",
    "###.#######.#.#.#######.#.#.###.",
    "#.......#.#...#.....#.#.......#.",
    "#.#####.#.#.#####.###.###.#.###.",
    "#.#...#...#.#.......#...#.#.#.#.",
    "#.###.#.#.###########.#######.#.",
    "#.#.....#...#.#.#.#...#...#...#.",
    "#.#####.#####.#.#.###.###.###.#.",
    "#.....#.#.....#.#.......#.#...#.",
    "###.###.#.###.#.#######.#.#.#.#.",
    "#...#.....#...#.....#.......#.#.",
    "###.#########.#.#######.#.###.#.",
    "#.#...#.#...........#...#...#.#.",
    "#.#.###.#####.#.###.#####.###.#.",
    "#.#.#.......#.#.#.......#...#.#.",
    "#.#.#.###.#######.#########.###.",
    "#...#.#......................x",
    "###############################."
];  
 


let map2 = [
"#############################################################",
"#.....#.............................#........#..............#",
"#..####..#######..####..#######..####..#######..#######..#..#",
"#........#..#..#.....#.....#..#.....#........#........#..#..#",
"#######..#..#..##########..#..####..#######..#..#######..#..#",
"#.......................#..#.................#........#..#..#",
"#..#############..##########..##########..####..#######..#..#",
"#..#..#..#..#..#..#..#..#.....#........#.....#..#..#.....#..#",
"#..#..#..#..#..#..#..#..#..#######..####..####..#..#..#######",
"#........#..#..#..#.....#.....#..#..#..#..#..#..#.....#.....#",
"#..#######..#..#..#..##########..#..#..####..#..#..#..#..####",
"#.....#..............#..#.......................#..#........#",
"####..#..#..####..####..#..#######..###################..####",
"#..#..#..#.....#..............#........#..#...........#..#..#",
"#..#..####..####..#..##########..#######..#######..#..#..#..#",
"#.....#..#.....#..#........#..#..#.....#...........#........#",
"####..#..#..#######..#..#..#..#..#..####..####..#..##########",
"#.....#...........#..#..#..#.....#.....#..#.....#..#..#.....#",
"#..#..#######..##########..#######..#############..#..####..#",
"#..#........#..#.....#.....#.....#.....#..#..#..............#",
"#..#..#############..#######..####..####..#..####..####..#..#",
"#..#.................#........#..#........#...........#..#..#",
"#######..#..#######..#######..#..#..#..#..#..#..##########..#",
"#..#..#..#..#........#..#.....#.....#..#..#..#.....#..#.....#",
"#..#..#..####..#######..####..#..#############..####..#..####",
"#.....#..#.....#..#........#.....#...........#..#.....#.....#",
"#..#######..####..#..####..####..#..################..#..####",
"#...........#.....#..#..#.....#..#.....#.................#..#",
"#..#..####..#..####..#..#..####..#..####..##########..#..#..#",
"#..#.....#..#........#.....#.....#.....#...........#..#.....#",
"#..##########..####..#######..####..####..#..#..#..#..#......",
"#############################################################" 
];



let map3=[
"...#############",
"......#.....#..#",
"#..####..#..#..#",
"#.....#..#.....#",
"####..#..####..#",
"#.....#..#..#..#",
"#..#..####..#..#",
"#..#.....#.....#",
"#..#######..####",
"#..............",
"#############.. "];


let map4=[
"###############################",
"#..............#..#..#........#",
"#..#..####..#..#..#..####..#..#",
"#..#..#.....#..#..#..#..#..#..#",
"#######..#..#..#..#..#..####..#",
"#........#..#..#..#.....#.....#",
"#..####..#######..#..####..####",
"#..#..#..#.................#..#",
"#..#..####..#######..#..####..#",
"#..#........#..#..#..#.....#..#",
"#..#######..#..#..#######..#..#",
"#.....#..#..#.....#..#.....#..#",
"####..#..#..#..####..#..#..#..#",
"#.....#.....#.....#.....#.....#",
"#..##########..####..#######..#",
"#........#.....#..#..#..#.....#",
"####..####..####..#..#..#..####",
"#..............#.....#..#.....#",
"##########..#..#..####..#..####",
"#...........#...........#.....",
"###############################"];




let map=[];







let NakljucnaStevilka=Math.floor(Math.random() * 4) + 1;

if(NakljucnaStevilka==1)
{
	map=map1;
}
if(NakljucnaStevilka==2)
{
	map=map2;
}
if(NakljucnaStevilka==3)
{
	map=map3;
}
if(NakljucnaStevilka==4)
{
	map=map4;
}





map=map2;





/*
function draw2(){
ctx.drawImage(img, a, b);

}  */

//maze generator!! 

function drawLab(){
    for(let i=0; i<map.length; i++){
        let x=60;
        let y=i*21;
        for(let j=0; j<map[i].length; j++){
            if(map[i][j]=="#"){
                ctx.beginPath();
                ctx.rect(x, y, 20, 20);
				ctx.strokeStyle = "#FF0000";
                ctx.stroke();
				ctx.fillStyle = "black";
                ctx.fill();
                x=x+20
                
            }
            else{
                x=x+20
            }
        } 
    }
}                                                   //narise labirint sam z barvo


                              
                         
 
 

/*
window.onload = function() {
    var canvas = document.getElementById("myCanvas");
    var ctx = canvas.getContext("2d");
    var img = document.getElementById("scream");
   
};

*/


drawLab();

var canvas2=document.getElementById('myCanvas');
var ctx2=canvas2.getContext("2d");
var img = document.getElementById("scream");
var a=80;
var b=20;

function draw(){
ctx.drawImage(img, a, b);

}






/*
document.addEventListener("keydown",function(e){
	if(e.keyCode==39)
	{
		
		ctx2.clearRect(a,b,10,10);
		a+=10;
		draw();
		
	}  
	
	if(e.keyCode==37)
	{
		ctx2.clearRect(a,b,10,10);
		a-=10;
		draw();
		
	} 
	

	if(e.keyCode==40)
	{
		ctx2.clearRect(a,b,10,10);
		b=b+11;
		draw();
		
	}
	
	if(e.keyCode==38)
	{
		ctx2.clearRect(a,b,10,10);
		b=b-11;
		draw();
		
	}

} 
)

*/
// koda za funkcioniranje 

let vrstica=1;
let stolpec=1;
document.addEventListener("keydown",function(e){
if(e.keyCode==39 || e.keyCode==68)
	{
	vrstica=vrstica+1;
	if(map[stolpec][vrstica]=="#")
	{
		vrstica=vrstica-1
	}
	else
	{
		ctx2.clearRect(a,b,20,20);
		a+=20;
		draw();
	}			
}

if(e.keyCode==37 || e.keyCode==65)
	{
		vrstica=vrstica-1;
	
	if(map[stolpec][vrstica]=="#")
		{
			vrstica=vrstica+1
		}
		else
		{
			ctx2.clearRect(a,b,20,20);
			a-=20;
			draw();
		}	
		
		
		
	}
	
if(e.keyCode==40 || e.keyCode==83)
	{
		stolpec=stolpec+1;
	
	if(map[stolpec][vrstica]=="#")
		{
			stolpec=stolpec-1;
		}
		else
		{
			ctx2.clearRect(a,b,20,20);
			b=b+21;
			draw();
		}	
		
		
		
	}	

if(e.keyCode==38 || e.keyCode==87)
	{
		stolpec=stolpec-1;
	
	if(map[stolpec][vrstica]=="#")
		{
			stolpec=stolpec+1;
		}
		else
		{
			ctx2.clearRect(a,b,20,20);
			b=b-21;
			draw();
		}	
		
		
		
	}

})




</script>

</body>
</html>
